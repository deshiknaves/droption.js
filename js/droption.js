// Generated by CoffeeScript 1.4.0
(function(){jQuery(function(e){var t;e.fn.droption=function(n){var r,i;r=e(this);i=new t;return i.initialize(r,n.select)};return t=function(){function t(e,t,n,r,i,s){this.select=e;this.label=t;this.arrow=n;this.options=r;this.input=i;this.wrap=s}t.prototype.initialize=function(t,n){var r,i;this.select=t;this.input=e(n);this.input.hide();this.select.append('<div class="label-wrapper" />').children().append('<span class="label-wrap"><span class="label" /></span>');this.wrap=this.select.find(".label-wrap").append('<span class="arrow" />');this.label=this.select.find(".label");this.arrow=this.select.find(".arrow");this.select.append('<div class="select-options" />');this.options=this.select.find(".select-options");i=this.input.find("option:selected").text();this.label.text(i);this.options.append('<div class="options-wrapper" />');this.options.hide();r=this.options.find(".options-wrapper");this.input.find("option").each(function(t,n){var s,o,u;s=e(n);u=s.val();i=s.text();o="";t===0&&(o=' first" ');return r.append('<span class="option'+o+'" data-value="'+u+'">'+i+"</span>")});r=null;this.arrow.on("click",{object:this},this.showOptions);return this.options.find(".option").on("click",{object:this},this.selectOption)};t.prototype.showOptions=function(t){var n;t.stopPropagation();n=t.data.object;e(document).unbind("click");if(!n.options.is(":visible")){e(".droption .select-options").hide();e(".droption .label-wrap").removeClass("open")}n.options.toggle();if(n.options.is(":visible")){n.wrap.addClass("open");return e(document).bind("click",{object:n},n.hideOptions)}return n.wrap.removeClass("open")};t.prototype.hideOptions=function(t){var n;n=t.data.object;n.options.toggle();n.wrap.removeClass("open");return e(document).unbind("click")};t.prototype.selectOption=function(t){var n,r,i,s;n=e(this);r=t.data.object;s=n.data("value");i=n.text();r.input.val(s);return r.label.text(i)};return t}()})}).call(this);